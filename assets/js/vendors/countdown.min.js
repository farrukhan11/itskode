// Countdown Clock
(function ($) {
    $.fn.countdown = function (options, callback) {
      var settings = $.extend({
        date: null,
        offset: null,
        day: "Day",
        days: "Days",
        hour: "Hour",
        hours: "Hours",
        minute: "Minute",
        minutes: "Minutes",
        second: "Second",
        seconds: "Seconds",
        hideOnComplete: false
      }, options);
  
      if (!settings.date) {
        $.error("Date is not defined.");
      }
  
      var targetDate;
      try {
        targetDate = new Date(settings.date);
      } catch (e) {
        $.error("Invalid date format. Ensure it's MM/DD/YYYY HH:MM:SS");
      }
  
      var element = this;
      var currentDate = function () {
        var now = new Date();
        var utc = now.getTime() + (now.getTimezoneOffset() * 60000);
        return new Date(utc + (3600000 * settings.offset));
      };
  
      var countdownInterval = setInterval(function () {
        var timeRemaining = targetDate - currentDate();
  
        if (timeRemaining < 0) {
          clearInterval(countdownInterval);
          if (settings.hideOnComplete) {
            $(element).hide();
          }
          if (callback && typeof callback === "function") {
            callback(element);
          }
          return;
        }
  
        var days = Math.floor(timeRemaining / 86400000);
        var hours = Math.floor((timeRemaining % 86400000) / 3600000);
        var minutes = Math.floor((timeRemaining % 3600000) / 60000);
        var seconds = Math.floor((timeRemaining % 60000) / 1000);
  
        days = String(days).length >= 2 ? days : "0" + days;
        hours = String(hours).length >= 2 ? hours : "0" + hours;
        minutes = String(minutes).length >= 2 ? minutes : "0" + minutes;
        seconds = String(seconds).length >= 2 ? seconds : "0" + seconds;
  
        element.find(".days").text(days);
        element.find(".hours").text(hours);
        element.find(".minutes").text(minutes);
        element.find(".seconds").text(seconds);
        element.find(".days_text").text(days === "01" ? settings.day : settings.days);
        element.find(".hours_text").text(hours === "01" ? settings.hour : settings.hours);
        element.find(".minutes_text").text(minutes === "01" ? settings.minute : settings.minutes);
        element.find(".seconds_text").text(seconds === "01" ? settings.second : settings.seconds);
      }, 1000);
    };
  })(jQuery);
  
  $(document).ready(function () {
    // Calculate the end date 24 hours from now
    var now = new Date();
    var endDate = new Date(now.getTime() + 24 * 60 * 60 * 1000);
    var formattedEndDate = (endDate.getMonth() + 1) + '/' + endDate.getDate() + '/' + endDate.getFullYear() + ' ' + endDate.getHours() + ':' + endDate.getMinutes() + ':' + endDate.getSeconds();
  
    // Initialize the countdown timer
    $('#countdown-timer').countdown({
      date: formattedEndDate
    });
  });
  